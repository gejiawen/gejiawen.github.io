

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="gejiawen">
    
    <meta name="description" content="gulpå¤‡å¿˜å½•ä¸“é¢˜æ–‡ç« ï¼Œ

gulpå¤‡å¿˜å½•ï¼ˆä¸€ï¼‰ï¼šAPIæŒ‡å—
gulpå¤‡å¿˜å½•ï¼ˆäºŒï¼‰ï¼šå¸¸ç”¨æ’ä»¶
gulpå¤‡å¿˜å½•ï¼ˆä¸‰ï¼‰ï¼šä½¿ç”¨æŠ€å·§
gulpå¤‡å¿˜å½•ï¼ˆå››ï¼‰ï¼šç¼–å†™æ’ä»¶

å‰è¨€è‡ªä»gulpé¢ä¸–ä»¥åï¼Œæˆ‘å°±æŠ›å¼ƒäº†GruntåŠ å…¥äº†gulpçš„é˜µè¥ã€‚ä»æ˜“ç”¨æ€§ä»¥åŠæ€§èƒ½æ–¹é¢æ¥è¯´ï¼Œæ— ç–‘gulpæ›´å…·ä¼˜åŠ¿ã€‚å…·ä½“çš„å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸€ç¯‡">
    
    

    
    <link rel="alternative" href="atom.xml" title="è›‹ç³•ä»™äºº" type="application/atom+xml">
    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>gulpå¤‡å¿˜å½•ï¼ˆä¸€ï¼‰ï¼šAPIæŒ‡å— | è›‹ç³•ä»™äºº Â· æŠ€æœ¯äººéœ€è¦å±æœºæ„Ÿ</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script>
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    
    <meta name="baidu-site-verification" content="SzJ3MGdmeo" />


    <meta name="360-site-verification" content="afe5dc96bbb8d111b618f78493b95bb8" />


    <!--<meta name="baidu-site-verification" content="SzJ3MGdmeo" />-->
    <!--<meta name="360-site-verification" content="afe5dc96bbb8d111b618f78493b95bb8" />-->

</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://blog.gejiawen.com" title="è›‹ç³•ä»™äºº">è›‹ç³•ä»™äºº</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                
                <ul class="nav navbar-nav pull-right">
                    <li>
                        <a class="max-width max-w300" title="æŠ€æœ¯äººéœ€è¦å±æœºæ„Ÿ" href="/feelings">æŠ€æœ¯äººéœ€è¦å±æœºæ„Ÿ</a>
                    </li>
                </ul>
                

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index">
                        <a href="/" target="">é¦–é¡µ</a>
                    </li>
                    
                    <li id="nav-archives">
                        <a href="/archives" target="">å½’æ¡£</a>
                    </li>
                    
                    <li id="nav-categories">
                        <a href="/categories" target="">åˆ†ç±»</a>
                    </li>
                    
                    <li id="nav-tags">
                        <a href="/tags" target="">æ ‡ç­¾</a>
                    </li>
                    
                    <li id="nav-pick">
                        <a href="http://book.gejiawen.com/fucking-days-to-be-a-coder" target="_blank">æ‹¾é—</a>
                    </li>
                    
                    <li id="nav-about">
                        <a href="/about" target="">å…³äº</a>
                    </li>
                    

                    <li id="nav-github"><a href="https://github.com/gejiawen" target="_blank">GitHub</a></li>
                    <!--<li id="nav-rss"><a href="/atom.xml" target="_blank">Rss</a></li>-->
                    <li id="nav-search"><input type="text" id="search" placeholder="search" /></li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
    var bgRoot = "http://7xkwt1.com1.z0.glb.clouddn.com/background-";
    var bgLength = "74";
    var bgRandom = false;
    var bgImage = "http://7xkwt1.com1.z0.glb.clouddn.com/background-64.jpg";

    $(function() {
        // page-id...
        var pageId = "2015/12/05/gulp-reminder-1-api/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";

        $("#nav-" + pageId).addClass("active");
    });
    </script>

    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>gulpå¤‡å¿˜å½•ï¼ˆä¸€ï¼‰ï¼šAPIæŒ‡å—</h1>

        <div class="time-info">
            
<span class="article-tags">
    
    Tags: <a href="/tags/gulp/">gulp</a>&nbsp;<a href="/tags/gulpå¤‡å¿˜å½•/">gulpå¤‡å¿˜å½•</a>&nbsp;<a href="/tags/nodejs/">nodejs</a>&nbsp;<a href="/tags/æ¼«æ¸¸NodeJSç³»åˆ—/">æ¼«æ¸¸NodeJSç³»åˆ—</a>&nbsp;
</span>



<span class="article-categories">
    Category:
    <a class="article-category-link" href="/categories/NODEJS/">NODEJS</a>
</span>


        </div>
        <div class="time-info">
            å‘è¡¨: <time datetime="2015-12-05T14:58:55.000Z"
                       itemprop="datePublished">2015-12-05 22:58:55</time>
            
            æ›´æ–°: <time datetime="2017-01-15T17:16:24.000Z"
                       itemprop="dateModified">2017-01-16 01:16:24</time>
            
        </div>

        <div class="post-body-inner">
            
                <div id="toc" class="toc-article well">
                    <strong class="toc-title">å¤§çº²</strong>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å‰è¨€"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä»‹ç»"><span class="toc-number">2.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å®‰è£…"><span class="toc-number">2.1.</span> <span class="toc-text">å®‰è£…</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å¼€å§‹ä½¿ç”¨"><span class="toc-number">3.</span> <span class="toc-text">å¼€å§‹ä½¿ç”¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#APIsè¯´æ˜"><span class="toc-number">4.</span> <span class="toc-text">APIsè¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#gulp-task"><span class="toc-number">4.1.</span> <span class="toc-text">gulp.task</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ§åˆ¶ä¾èµ–é¡ºåº"><span class="toc-number">4.1.1.</span> <span class="toc-text">æ§åˆ¶ä¾èµ–é¡ºåº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gulp-src"><span class="toc-number">4.2.</span> <span class="toc-text">gulp.src</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¨¡å¼åŒ¹é…"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ¨¡å¼åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŒ¹é…å‚æ•°"><span class="toc-number">4.2.2.</span> <span class="toc-text">åŒ¹é…å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gulp-dest"><span class="toc-number">4.3.</span> <span class="toc-text">gulp.dest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å†™å…¥å‚æ•°"><span class="toc-number">4.3.1.</span> <span class="toc-text">å†™å…¥å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gulp-watch"><span class="toc-number">4.4.</span> <span class="toc-text">gulp.watch</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å‚è€ƒåˆ—è¡¨"><span class="toc-number">5.</span> <span class="toc-text">å‚è€ƒåˆ—è¡¨</span></a></li></ol>
                </div>
            

            <p><strong>gulpå¤‡å¿˜å½•</strong>ä¸“é¢˜æ–‡ç« ï¼Œ</p>
<ul>
<li><a href="http://blog.gejiawen.com/2015/12/05/gulp-reminder-1-api/">gulpå¤‡å¿˜å½•ï¼ˆä¸€ï¼‰ï¼šAPIæŒ‡å—</a></li>
<li>gulpå¤‡å¿˜å½•ï¼ˆäºŒï¼‰ï¼šå¸¸ç”¨æ’ä»¶</li>
<li>gulpå¤‡å¿˜å½•ï¼ˆä¸‰ï¼‰ï¼šä½¿ç”¨æŠ€å·§</li>
<li>gulpå¤‡å¿˜å½•ï¼ˆå››ï¼‰ï¼šç¼–å†™æ’ä»¶</li>
</ul>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è‡ªä»<a href="http://gulpjs.com/" target="_blank" rel="external">gulp</a>é¢ä¸–ä»¥åï¼Œæˆ‘å°±æŠ›å¼ƒäº†<a href="http://gruntjs.com/" target="_blank" rel="external">Grunt</a>åŠ å…¥äº†gulpçš„é˜µè¥ã€‚ä»æ˜“ç”¨æ€§ä»¥åŠæ€§èƒ½æ–¹é¢æ¥è¯´ï¼Œæ— ç–‘gulpæ›´å…·ä¼˜åŠ¿ã€‚å…·ä½“çš„å¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« <a href="http://blog.gejiawen.com/2015/01/09/gulp-vs-grunt/">gulp vs. grunt</a>ã€‚</p>
<p>å¯ä»¥è¯´ï¼Œæˆ‘å¾ˆæ—©å°±å¼€å§‹ä½¿ç”¨gulpäº†ï¼Œé‚£ä¸ºä½•ä¼šæœ‰è¿™å‡ ç¯‡gulpçš„ç›¸å…³æ–‡ç« å‘¢ï¼Ÿæ˜¯å› ä¸ºå‘ç°æˆ‘åœ¨ä½¿ç”¨gulpçš„æ—¶å€™ï¼Œä»ç„¶å¤„äºä¸€ä¸ª<strong>ä»…ä»…ä¼šç”¨</strong>çš„å±‚é¢ä¸Šï¼Œå½“éœ€è¦ä½¿ç”¨ä¸€äº›æ’ä»¶æ—¶ï¼Œå¾€å¾€æ˜¯åœ¨<a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a>æ‰¾åˆ°å¯¹åº”çš„æ’ä»¶ï¼Œç„¶åç…§ç€exampleæŠ„ä¸€éï¼Œå¯¹gulpçš„æœ‰äº›ç‰¹æ€§è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚æ‰€ä»¥æˆ‘è§‰å¾—å¾ˆæœ‰å¿…è¦å†™ä¸€äº›ä¸œè¥¿æ¥æ·±åº¦å­¦ä¹ ä¸€ä¸‹gulpã€‚</p>
<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>é¦–å…ˆæ¥ä»‹ç»ä¸€ä¸‹gulpã€‚</p>
<p>gulpæ˜¯ä¸€æ¬¾å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®ƒå°†æ„å»ºæ“ä½œæŠ½è±¡æˆä¸€ç³»åˆ—çš„ä»»åŠ¡ã€‚åšçš„äº‹æƒ…ä¸gruntæ˜¯ä¸€æ ·çš„ã€‚ä¸è¿‡å®ƒä¿¡å¥‰çš„åŸåˆ™æ˜¯<strong>ä»£ç ä¼˜äºé…ç½®</strong>ï¼ŒåŸºäºNode.jsä¸­çš„streamæ¥æ“ä½œæ–‡ä»¶ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥å®‰è£…gulpï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g gulp</span><br></pre></td></tr></table></figure>
<p>å®‰è£…æˆåŠŸä¹‹åä½ å°±å¯ä»¥ç›´æ¥åœ¨ä»»ä½•è·¯å¾„ä¸Šä½¿ç”¨<code>gulp</code>å‘½ä»¤äº†ã€‚ä¸è¿‡åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨gulpæ—¶ï¼Œå¾€å¾€éœ€è¦å®‰è£…ä¸€ä¸ªlocalç‰ˆæœ¬çš„gulpï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp --save-dev</span><br></pre></td></tr></table></figure>
<p>é‡‡ç”¨<code>--save-dev</code>å°†gulpå†™è¿›<code>package.json</code>çš„<code>devDependencies</code>ä¾èµ–ä¸­ã€‚</p>
<p>è‡³äºä¸ºä½•å…¨å±€å®‰è£…gulpä¹‹åè¿˜éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…gulpï¼Œå¯ä»¥å‚è§stackoverflowä¸Šçš„é—®é¢˜<a href="http://stackoverflow.com/questions/22115400/why-do-we-need-to-install-gulp-globally-and-locally" target="_blank" rel="external">why-do-we-need-to-install-gulp-globally-and-locally</a>ã€‚åŸºæœ¬ä¸Šè¿™ä¹ˆåšçš„åŸå› æ˜¯ä¸ºäº†çµæ´»çš„å»ä½¿ç”¨gulpï¼Œå¦‚æœå®åœ¨ä¸èƒ½ç†è§£çš„è¯ä¹Ÿä¸å¿…å»çº ç»“ã€‚ä½ å¤§å¯ä»¥ä¸ç”¨å…¨å±€å®‰è£…gulpï¼Œä»…åœ¨é¡¹ç›®ä¸­å®‰è£…ã€‚</p>
<h1 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h1><p>åœ¨é¡¹ç›®ä¸­æ·»åŠ gulpä¾èµ–å¹¶å®‰è£…å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåå«<code>gulpfile.js</code>çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å°†åœ¨è¿™ä¸ªgulpfile.jsæ–‡ä»¶ä¸­å®Œæˆæ‰€æœ‰æ„å»ºä»»åŠ¡çš„è®¾è®¡ã€‚</p>
<p>ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬gulpfile.jsæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'default finished.'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<code>gulp</code>å°±å¯ä»¥å¼€å§‹æ„ä»¶ä»»åŠ¡ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[00:54:32] Using gulpfile ~/code/<span class="built_in">test</span>/<span class="built_in">test</span>-gulp/gulpfile.js</span><br><span class="line">[00:54:32] Starting <span class="string">'default'</span>...</span><br><span class="line">default finished.</span><br><span class="line">[00:54:32] Finished <span class="string">'default'</span> after 98 Î¼s</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨defaultä»»åŠ¡ä¸­å•¥äº‹ä¹Ÿæ²¡å¹²ï¼Œä»…ä»…è¾“å‡ºä¸€æ¡æç¤ºä¿¡æ¯ã€‚</p>
<p>åŸºæœ¬ä¸Šgulpçš„ä½¿ç”¨å°±æ˜¯è¿™æ ·çš„æ¨¡å¼ã€‚</p>
<h1 id="APIsè¯´æ˜"><a href="#APIsè¯´æ˜" class="headerlink" title="APIsè¯´æ˜"></a>APIsè¯´æ˜</h1><p>gulpçš„APIéå¸¸ç®€æ´ï¼Œå¸¸ç”¨çš„APIå°±4ä¸ªï¼Œä»–ä»¬æ˜¯<code>gulp.task</code>ï¼Œ<code>gulp.src</code>ï¼Œ<code>gulp.dest</code>ï¼Œ<code>gulp.watch</code>ã€‚</p>
<h2 id="gulp-task"><a href="#gulp-task" class="headerlink" title="gulp.task"></a><code>gulp.task</code></h2><p><code>gulp.task</code>ç”¨äºå®šä¹‰ä»»åŠ¡ã€‚å…¶å†…éƒ¨ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåä¸º<a href="https://github.com/orchestrator/orchestrator" target="_blank" rel="external">Orchestrator</a>ä»»åŠ¡è°ƒåº¦åº“ã€‚å®ƒçš„ç”¨æ³•å¾ˆç®€å•ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(name[, deps], fn)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">æ˜¯å¦å¯é€‰</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>name</code></td>
<td style="text-align:left"><strong>String</strong></td>
<td style="text-align:left"><strong>å¿…é¡»</strong></td>
<td style="text-align:left">ä»»åŠ¡çš„åç§°</td>
</tr>
<tr>
<td style="text-align:left"><code>deps</code></td>
<td style="text-align:left"><strong>Array</strong></td>
<td style="text-align:left">å¯é€‰</td>
<td style="text-align:left">æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºå½“å‰ä»»åŠ¡æ‰€ä¾èµ–çš„å…¶ä»–ä»»åŠ¡</td>
</tr>
<tr>
<td style="text-align:left"><code>fn</code></td>
<td style="text-align:left"><strong>Function</strong></td>
<td style="text-align:left"><strong>å¿…é¡»</strong></td>
<td style="text-align:left">ä»»åŠ¡å…·ä½“è¦æ‰§è¡Œçš„æ“ä½œ</td>
</tr>
</tbody>
</table>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'mytask'</span>, [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'mytask2'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'mytask3'</span>, [<span class="string">'one'</span>, <span class="string">'two'</span>]);</span><br></pre></td></tr></table></figure>
<p>å¦‚ç¤ºä¾‹æ‰€ç¤ºï¼Œå½“æŸä¸€ä¸ªä»»åŠ¡æ²¡æœ‰ä¾èµ–ä»»åŠ¡æ—¶ï¼Œå¯ä»¥çœç•¥<code>deps</code>å‚æ•°ã€‚å½“ä¸€ä¸ªä»»åŠ¡æœ‰ä¾èµ–ä»»åŠ¡æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥çœç•¥<code>fn</code>å‚æ•°çš„ã€‚</p>
<h3 id="æ§åˆ¶ä¾èµ–é¡ºåº"><a href="#æ§åˆ¶ä¾èµ–é¡ºåº" class="headerlink" title="æ§åˆ¶ä¾èµ–é¡ºåº"></a>æ§åˆ¶ä¾èµ–é¡ºåº</h3><p>å½“<code>gulp.task</code>å®šä¹‰ä»»åŠ¡å¹¶æœ‰ä¾èµ–ä»»åŠ¡æ—¶ï¼Œgulpé»˜è®¤å°†ä»¥æœ€å¤§çš„å¹¶å‘æ•°å»åŒæ—¶æ‰§è¡Œè¿™äº›ä¾èµ–ä»»åŠ¡ã€‚æ‰€ä»¥gulpé»˜è®¤æ˜¯ä¸ä¿è¯ä¾èµ–ä»»åŠ¡ä¹‹é—´çš„å¼‚æ­¥æ“ä½œç­‰å¾…çš„ã€‚</p>
<p>è‹¥æœ‰ä¸‹é¢è¿™æ ·ä¸€ä¸ªç¤ºä¾‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'one'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'one is done.'</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'two'</span>, [<span class="string">'one'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'two is done.'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'one'</span>, <span class="string">'two'</span>]);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬çš„<code>one</code>ï¼Œ<code>two</code>è¿™ä¸¤ä¸ªä»»åŠ¡å½¼æ­¤ä¹‹é—´æœ‰é¡ºåºä¾èµ–çš„è¯ï¼ˆç¤ºä¾‹ä¸­é‡‡ç”¨setTimeoutæ¥æ¨¡æ‹Ÿå¼‚æ­¥ä»»åŠ¡ï¼‰ï¼Œå³<code>two</code>è¦åœ¨<code>one</code>çš„å¼‚æ­¥æ“ä½œå®Œæ¯•ä¹‹åæ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥æ‰§è¡Œ<code>gulp</code>ï¼Œå¾—åˆ°ç»“æœå¦‚ä¸‹ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[01:25:08] Using gulpfile ~/code/<span class="built_in">test</span>/<span class="built_in">test</span>-gulp/gulpfile.js</span><br><span class="line">[01:25:08] Starting <span class="string">'one'</span>...</span><br><span class="line">[01:25:08] Finished <span class="string">'one'</span> after 578 Î¼s</span><br><span class="line">[01:25:08] Starting <span class="string">'two'</span>...</span><br><span class="line">[01:25:08] two is done.</span><br><span class="line">[01:25:08] Finished <span class="string">'two'</span> after 2.33 ms</span><br><span class="line">[01:25:08] Starting <span class="string">'default'</span>...</span><br><span class="line">[01:25:08] Finished <span class="string">'default'</span> after 35 Î¼s</span><br><span class="line">[01:25:10] one is done.</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä»»åŠ¡<code>one</code>å’Œä»»åŠ¡<code>two</code>å‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶åˆ»å°±åŒæ—¶æ‰§è¡Œçš„ã€‚ä½†æ˜¯åœ¨<em>01:25:08</em>ä»»åŠ¡<code>two</code>å°±å·²ç»å®Œæˆäº†ï¼Œè€Œä»»åŠ¡<code>one</code>åœ¨<em>01:25:10</em>æ‰å®Œæˆã€‚æ‰€ä»¥è¿™å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬çš„è¦æ±‚ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸‰ç§æ–¹å¼æ¥è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹å¼ï¼šåœ¨å¼‚æ­¥æ“ä½œå®Œæˆåæ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°æ¥é€šçŸ¥gulpè¿™ä¸ªå¼‚æ­¥ä»»åŠ¡å·²ç»å®Œæˆï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯ä»»åŠ¡å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥æ”¹å†™ä¸€ä¸‹ä»»åŠ¡<code>one</code>ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'one'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'one is done.'</span>);</span><br><span class="line">        callback();</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬å†æ‰§è¡Œ<code>gulp</code>å…¶ç»“æœå¦‚ä¸‹ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[01:40:02] Using gulpfile ~/code/<span class="built_in">test</span>/<span class="built_in">test</span>-gulp/gulpfile.js</span><br><span class="line">[01:40:02] Starting <span class="string">'one'</span>...</span><br><span class="line">[01:40:04] one is done.</span><br><span class="line">[01:40:04] Finished <span class="string">'one'</span> after 2.01 s</span><br><span class="line">[01:40:04] Starting <span class="string">'two'</span>...</span><br><span class="line">[01:40:04] two is done.</span><br><span class="line">[01:40:04] Finished <span class="string">'two'</span> after 659 Î¼s</span><br><span class="line">[01:40:04] Starting <span class="string">'default'</span>...</span><br><span class="line">[01:40:04] Finished <span class="string">'default'</span> after 12 Î¼s</span><br></pre></td></tr></table></figure>
<p>å¦‚æ­¤æˆ‘ä»¬å°±èƒ½ä¿è¯åœ¨æ‰§è¡Œ<code>two</code>ä¹‹å‰ï¼Œ<code>one</code>çš„å¼‚æ­¥æ“ä½œä¹Ÿæ‰§è¡Œå®Œæ¯•äº†ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä»‹ç»å¦å¤–ä¸¤ç§æ–¹å¼ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼ï¼šå®šä¹‰ä»»åŠ¡æ—¶è¿”å›ä¸€ä¸ªæµå¯¹è±¡ã€‚</p>
<p>æ¯”å¦‚ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'one'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'client/**/*.js'</span>)</span><br><span class="line">        .pipe(minify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'build'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'two'</span>, [<span class="string">'one'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'two is done.'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'one'</span>, <span class="string">'two'</span>]);</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰ç§æ–¹å¼ï¼šè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ã€‚</p>
<p>æ¯”å¦‚ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Q = <span class="built_in">require</span>(<span class="string">'q'</span>);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'one'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">cb</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> deferred = Q.defer();</span><br><span class="line">  </span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        deferred.resolve();</span><br><span class="line">    &#125;, <span class="number">5000</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> deferred.promise;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'two'</span>, [<span class="string">'one'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'two is done.'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'one'</span>, <span class="string">'two'</span>]);</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“</strong>ï¼Œ</p>
<ul>
<li>callbackå’Œè¿”å›promiseçš„æ–¹å¼æ›´å…·æ™®é€‚æ€§ï¼Œè€Œè¿”å›streamçš„æ–¹å¼æ›´åŠ åˆé€‚<code>gulp.src</code>ç›¸å…³çš„æ“ä½œã€‚</li>
<li>callbackæ–¹å¼åœ¨æŸäº›åœºæ™¯ä¸‹å¯èƒ½æ›´åŠ çµæ´»ã€‚æ¯”å¦‚ä»»åŠ¡ä¸­æºæ‚äº†ä¸€äº›ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ã€‚</li>
</ul>
<h2 id="gulp-src"><a href="#gulp-src" class="headerlink" title="gulp.src"></a><code>gulp.src</code></h2><p>å‰é¢è¯´è¿‡gulpçš„å·¥ä½œæœºåˆ¶æ˜¯åŸºäºNode.jsä¸­çš„æµã€‚è¿™é‡Œæ‰€è¯´çš„æµå¹¶ä¸æ˜¯Node.jsåŸå§‹çš„æµå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ç§è™šæ‹Ÿæ–‡ä»¶æµå¯¹è±¡ï¼ˆ<a href="https://github.com/gulpjs/vinyl-fs" target="_blank" rel="external">Vinyl files</a>ï¼‰ï¼Œè¿™ä¸ªè™šæ‹Ÿæ–‡ä»¶å¯¹è±¡ä¸­å­˜å‚¨ç€åŸå§‹æ–‡ä»¶çš„è·¯å¾„ã€æ–‡ä»¶åã€å†…å®¹ç­‰ä¿¡æ¯ã€‚æˆ‘ä»¬ä¸å…³æ³¨è¿™ä¸ªï¼Œåé¢å†è®²è§£å†™gulpæ’ä»¶æ—¶ä¼šå†æ¬¡é˜è¿°è¿™å—å†…å®¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œç®€å•æ¥è¯´<code>gulp.src</code>å°±æ˜¯ç”¨æ¥è·å–ä½ éœ€è¦æ“ä½œçš„æ–‡ä»¶çš„ã€‚å®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.src(globs[, options])</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">æ˜¯å¦å¯é€‰</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>globs</code></td>
<td style="text-align:left"><strong>String</strong>, <strong>Array</strong></td>
<td style="text-align:left"><strong>å¿…é€‰</strong></td>
<td style="text-align:left">æ–‡ä»¶åŒ¹é…æ¨¡å¼</td>
</tr>
<tr>
<td style="text-align:left"><code>options</code></td>
<td style="text-align:left"><strong>Object</strong></td>
<td style="text-align:left">å¯é€‰</td>
<td style="text-align:left">åŒ¹é…é€‰é¡¹</td>
</tr>
</tbody>
</table>
<p><code>gulp.src</code>å†…éƒ¨ä½¿ç”¨<a href="https://github.com/isaacs/node-glob" target="_blank" rel="external">node-glob</a>æ¨¡å—æ¥å®ç°æ–‡ä»¶åŒ¹é…ã€‚node-globæ˜¯ä¸€ç§ä¸æ­£åˆ™è¡¨è¾¾å¼ç±»ä¼¼çš„åŒ¹é…èŒƒå¼ã€‚</p>
<p><code>globs</code>å‚æ•°ä¹Ÿå¯ä»¥ç›´æ¥æ˜¯ç”¨ä¸€ä¸ªæ–‡ä»¶åœ°å€ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªåŒ¹é…æ¨¡å¼çš„æ•°ç»„ã€‚è€Œ<code>options</code>å‚æ•°æ˜¯ç”¨æ¥è¾…åŠ©åŒ¹é…çš„ï¼Œå®ƒçš„æŸäº›å‚æ•°è®¾ç½®å°†ä¼šå½±å“è™šæ‹Ÿæ–‡ä»¶æµçš„è·å–ã€‚</p>
<h3 id="æ¨¡å¼åŒ¹é…"><a href="#æ¨¡å¼åŒ¹é…" class="headerlink" title="æ¨¡å¼åŒ¹é…"></a>æ¨¡å¼åŒ¹é…</h3><p>node-globä¸­æœ‰å¦‚ä¸‹å‡ ç§åŒ¹é…è§„åˆ™ï¼Œ</p>
<table>
<thead>
<tr>
<th style="text-align:left">åŒ¹é…èŒƒå¼</th>
<th style="text-align:left">ç”¨æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œä½†ä¸ä¼šåŒ¹é…è·¯å¾„åˆ†éš”ç¬¦ï¼Œé™¤éè·¯å¾„åˆ†éš”ç¬¦å‡ºç°åœ¨æœ«å°¾</td>
</tr>
<tr>
<td style="text-align:left"><code>**</code></td>
<td style="text-align:left">åŒ¹é…0ä¸ªæˆ–å¤šä¸ªç›®å½•åŠå…¶å­ç›®å½•ï¼Œéœ€è¦å•ç‹¬å‡ºç°ã€‚å¦‚æœå‡ºç°åœ¨æœ«å°¾ï¼Œä¹Ÿèƒ½åŒ¹é…æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œä¸ä¼šåŒ¹é…è·¯å¾„åˆ†éš”ç¬¦</td>
</tr>
<tr>
<td style="text-align:left"><code>[...]</code></td>
<td style="text-align:left">åŒ¹é…æ–¹æ‹¬å·ä¸­å‡ºç°çš„å­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå½“æ–¹æ‹¬å·ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º^æˆ–!æ—¶ï¼Œè¡¨ç¤ºå–å</td>
</tr>
<tr>
<td style="text-align:left"><code>!(p1,p2,p3)</code></td>
<td style="text-align:left">åŒ¹é…ä»»ä½•ä¸æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼éƒ½ä¸åŒ¹é…çš„</td>
</tr>
<tr>
<td style="text-align:left"><code>?(p1,p2,p3)</code></td>
<td style="text-align:left">åŒ¹é…æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼0æ¬¡æˆ–1æ¬¡</td>
</tr>
<tr>
<td style="text-align:left"><code>+(p1,p2,p3)</code></td>
<td style="text-align:left">åŒ¹é…æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼è‡³å°‘1æ¬¡</td>
</tr>
<tr>
<td style="text-align:left"><code>*(p1,p2,p3)</code></td>
<td style="text-align:left">åŒ¹é…æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼0æ¬¡æˆ–å¤šæ¬¡</td>
</tr>
<tr>
<td style="text-align:left"><code>@(p1,p2,p3)</code></td>
<td style="text-align:left">åŒ¹é…æ‹¬å·ä¸­ç»™å®šçš„ä»»ä¸€æ¨¡å¼1æ¬¡</td>
</tr>
<tr>
<td style="text-align:left"><code>{p1,p2}</code></td>
<td style="text-align:left">ä»¥å±•å¼€æ¨¡å¼è¿›è¡ŒåŒ¹é…</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å¤‡æ³¨</strong>ï¼š <code>(p1,p2,p3)</code>ä¸­çš„<code>,</code>å…¶å®æ˜¯<code>|</code>ã€‚å¦‚æœå†™æˆ<code>p1|p2|p3</code>ï¼Œå°†ä¼šå¯¼è‡´markdownè§£æé”™è¯¯ã€‚æš‚æ—¶æ²¡æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œæœ›çŸ¥é“çš„å¤§ç¥å‘ŠçŸ¥ğŸ˜‚</p>
</blockquote>
<p>å…³äºnode-globæ›´å¤šçš„ç”¨æ³•ï¼Œè¯·å‚é˜…<a href="https://github.com/isaacs/node-glob" target="_blank" rel="external">node-glob</a>çš„ç›¸å…³æ–‡æ¡£ã€‚ä¸è¿‡åŸºæœ¬ä¸Šä¸Šé¢çš„å‡ ç§ç”¨æ³•å°†ä¼šè¦†ç›–<code>gulp.src</code>90%ä»¥ä¸Šçš„åœºæ™¯ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›æ›´è¯¦ç»†çš„ç¤ºä¾‹ï¼Œ</p>
<ul>
<li><code>*</code>èƒ½åŒ¹é…<code>a.js</code>ï¼Œ<code>x.y</code>ï¼Œ<code>abc</code>ï¼Œ<code>abc/</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>a/b.js</code></li>
<li><code>*.*</code>èƒ½åŒ¹é…<code>a.js</code>ï¼Œ<code>style.css</code>ï¼Œ<code>a.b</code>ï¼Œ<code>x.y</code></li>
<li><code>*/*/*.js</code>èƒ½åŒ¹é…<code>a/b/c.js</code>ï¼Œ<code>x/y/z.js</code>ï¼Œä¸èƒ½åŒ¹é…<code>a/b.js</code>ï¼Œ<code>a/b/c/d.js</code></li>
<li><code>**</code>èƒ½åŒ¹é…<code>abc</code>ï¼Œ<code>a/b.js</code>ï¼Œ<code>a/b/c.js</code>ï¼Œ<code>x/y/z</code>ï¼Œ<code>x/y/z/a.b</code>ï¼Œèƒ½ç”¨æ¥åŒ¹é…æ‰€æœ‰çš„ç›®å½•å’Œæ–‡ä»¶</li>
<li><code>**/*.js</code>èƒ½åŒ¹é…<code>foo.js</code>ï¼Œ<code>a/foo.js</code>ï¼Œ<code>a/b/foo.js</code>ï¼Œ<code>a/b/c/foo.js</code></li>
<li><code>a/**/z</code>èƒ½åŒ¹é…<code>a/z</code>ï¼Œ<code>a/b/z</code>ï¼Œ<code>a/b/c/z</code>ï¼Œ<code>a/d/g/h/j/k/z</code></li>
<li><code>a/**b/z</code>èƒ½åŒ¹é…<code>a/b/z</code>ï¼Œ<code>a/sb/z</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>a/x/sb/z</code>ï¼Œå› ä¸ºåªæœ‰å•<code>**</code>å•ç‹¬å‡ºç°æ‰èƒ½åŒ¹é…å¤šçº§ç›®å½•</li>
<li><code>?.js</code>èƒ½åŒ¹é…<code>a.js</code>ï¼Œ<code>b.js</code>ï¼Œ<code>c.js</code></li>
<li><code>a??</code>èƒ½åŒ¹é…<code>a.b</code>ï¼Œ<code>abc</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>ab/</code>ï¼Œå› ä¸ºå®ƒä¸ä¼šåŒ¹é…è·¯å¾„åˆ†éš”ç¬¦</li>
<li><code>[xyz].js</code>åªèƒ½åŒ¹é…<code>x.js</code>ï¼Œ<code>y.js</code>ï¼Œ<code>z.js</code>ï¼Œä¸ä¼šåŒ¹é…<code>xy.js</code>ï¼Œ<code>xyz.js</code>ç­‰ï¼Œæ•´ä¸ªä¸­æ‹¬å·åªä»£è¡¨ä¸€ä¸ªå­—ç¬¦</li>
<li><code>[^xyz].js</code>èƒ½åŒ¹é…<code>a.js</code>ï¼Œ<code>b.js</code>ï¼Œ<code>c.js</code>ç­‰ï¼Œä¸èƒ½åŒ¹é…<code>x.js</code>ï¼Œ<code>y.js</code>ï¼Œ<code>z.js</code></li>
<li><code>a{b,c}d.js</code>èƒ½åŒ¹é…<code>abd.js</code>ï¼Œ<code>acd.js</code>ï¼Œä¸èƒ½åŒ¹é…<code>abcd.js</code></li>
</ul>
<p>æˆ‘ä»¬è¿˜å¯ä»¥å°†å¤šä¸ªåŒ¹é…æ¨¡å¼ç»„åˆæˆä¸€ä¸ªæ•°ç»„ä¼ é€’ç»™<code>gulp.src</code>ï¼Œæ¯”å¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.src([<span class="string">'js/*.js'</span>, <span class="string">'css/*.js'</span>, <span class="string">'views/*.html'</span>]);</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨è¿™ä¸€æ–¹å¼æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ªåæ¨¡å¼ç”¨æ¥åœ¨ä¹‹å‰çš„åŒ¹é…ç»“æœä¸­æ’é™¤æŸäº›åŒ¹é…é¡¹ï¼Œæ¯”å¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.src([<span class="string">'js/*.js'</span>, <span class="string">'!js/jquery.js'</span>]);</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºåæ¨¡å¼æ˜¯åœ¨ä¹‹å‰çš„åŒ¹é…ç»“æœåšæ’é™¤çš„ï¼Œæ‰€ä»¥åæ¨¡å¼ä¸èƒ½æ”¾åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æ–¹å¼æ˜¯ä¸æ­£ç¡®ç”¨æ³•ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.src([<span class="string">'!js/jquery.js'</span>, <span class="string">'js/*.js'</span>]); <span class="comment">// åæ¨¡å¼ä½äºåŒ¹é…æ¨¡å¼æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ­¤æ—¶å°†èµ·ä¸åˆ°æ’é™¤ä½œç”¨</span></span><br></pre></td></tr></table></figure>
<h3 id="åŒ¹é…å‚æ•°"><a href="#åŒ¹é…å‚æ•°" class="headerlink" title="åŒ¹é…å‚æ•°"></a>åŒ¹é…å‚æ•°</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>options</code>ç»™<code>gulp.src</code>ä¼ é€’åŒ¹é…å‚æ•°ã€‚<code>options</code>é™¤äº†node-globåŸæœ‰çš„ä¸€äº›å‚æ•°ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›é¢å¤–çš„å‚æ•°ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">é»˜è®¤å€¼</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>options.buffer</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">gulpçš„è™šæ‹Ÿæ–‡ä»¶å¯¹è±¡é»˜è®¤ä»¥bufferçš„å½¢å¼è¿”å›æ–‡ä»¶å†…å®¹ã€‚è‹¥æ­¤é¡¹ä¸º<code>false</code>ï¼Œåˆ™ä»¥streamçš„å½¢å¼è¿”å›æ–‡ä»¶å†…å®¹</td>
</tr>
<tr>
<td style="text-align:left"><code>options.read</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">gulpé»˜è®¤æ˜¯ä¼šè¿›è¡Œè¯»å–æ–‡ä»¶å†…å®¹æ“ä½œçš„ã€‚è‹¥æ­¤é¡¹è¢«è®¾ç½®ä¸º<code>false</code>åˆ™gulpåˆ™ä¸ä¼šå»è¯»å–æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:left"><code>options.base</code></td>
<td style="text-align:left">æ¨¡å¼åŒ¹é…ä¸­ç›´åˆ°å‡ºç°é€šé…ç¬¦ä¹‹å‰çš„å­—ç¬¦ä¸²</td>
<td style="text-align:left">è¿™ä¸ªå‚æ•°è·Ÿ<code>gulp.dest</code>çš„æœ€ç»ˆè·¯å¾„æ¯æ¯ç›¸å…³</td>
</tr>
</tbody>
</table>
<p>è¿™äº›å‚æ•°ä¸­ï¼Œå”¯ä¸€å€¼å¾—ä¸€æå°±æ˜¯<code>options.base</code>ã€‚å…·ä½“è¯·æ¥ç€å¾€ä¸‹çœ‹ã€‚</p>
<h2 id="gulp-dest"><a href="#gulp-dest" class="headerlink" title="gulp.dest"></a><code>gulp.dest</code></h2><p><code>gulp.dest</code>ç®€å•æ¥è¯´å°±æ˜¯ç”¨æ¥å†™æ–‡ä»¶çš„ã€‚å…¶ç”¨æ³•å¦‚ä¸‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.dest(path[, options])</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">æ˜¯å¦å¯é€‰</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>path</code></td>
<td style="text-align:left"><strong>String</strong></td>
<td style="text-align:left"><strong>å¿…é€‰</strong></td>
<td style="text-align:left">å†™å…¥æ–‡ä»¶çš„è·¯å¾„</td>
</tr>
<tr>
<td style="text-align:left"><code>options</code></td>
<td style="text-align:left"><strong>Object</strong></td>
<td style="text-align:left">å¯é€‰</td>
<td style="text-align:left">å†™å…¥æ–‡ä»¶æ—¶çš„å‚æ•°</td>
</tr>
</tbody>
</table>
<p>è¿™é‡Œå”¯ä¸€å€¼å¾—ä¸€æå°±æ˜¯å†™å…¥æ–‡ä»¶çš„è·¯å¾„ã€‚è¿™é‡Œçš„å†™å…¥è·¯å¾„æ˜¯gulpç»“åˆ<code>gulp.src</code>ä¸­çš„<code>options.base</code>å‚æ•°æ¥è®¡ç®—çš„ï¼Œæˆ‘ä»¬ä¼ å…¥çš„<code>path</code>å‚æ•°å…¶å®åªæ˜¯æœ€ç»ˆç”Ÿæˆæ–‡ä»¶è·¯å¾„çš„æ–‡ä»¶å¤¹ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gulp.src(<span class="string">'js/jquery.js'</span>)</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/build.js'</span>));</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç æœ€ç»ˆå†™çš„æ–‡ä»¶è·¯å¾„æ˜¯<strong><code>dist/build.js/jquery.js</code></strong>ï¼Œè€Œä¸æ˜¯<code>dist/build.js</code>ã€‚</p>
<p>å…¶å®ï¼Œ<code>gulp.dest</code>åœ¨å†™æ–‡ä»¶æ—¶ï¼Œå…¶æ­¥éª¤å¯ä»¥ç®€å•æŠ½è±¡å¦‚ä¸‹ï¼Œ</p>
<ol>
<li>å°†<code>gulp.src</code>å¾—åˆ°çš„æ–‡ä»¶è·¯å¾„åˆ†è§£ä¸º<strong>base</strong> + <strong>matched</strong>çš„å½¢å¼ã€‚è€Œbaseæ˜¯åŒ¹é…æ¨¡å¼ä¸­<strong>å¼€å§‹å‡ºç°é€šé…ç¬¦ä¹‹å‰</strong>çš„è·¯å¾„ï¼Œmatchedæ˜¯<strong>å¼€å§‹å‡ºç°é€šé…ç¬¦ä¹‹å</strong>çš„è·¯å¾„ã€‚å¦‚æœåŒ¹é…æ¨¡å¼ä¸­æ²¡æœ‰é€šé…ç¬¦ï¼Œåˆ™matchedä¸ºæ–‡ä»¶åã€‚æ‰€ä»¥ç¤ºä¾‹ä¸­çš„baseä¸º<code>js/</code>ï¼Œmatchedä¸º<code>jquery.js</code>ã€‚</li>
<li><code>gulp.dest</code>çš„è§„åˆ™æ˜¯ä½¿ç”¨å†™å…¥è·¯å¾„å‚æ•°æ›¿æ¢baseï¼Œå†åŠ ä¸Šmatchedã€‚å³<code>dest-path</code> + <code>matched</code>ã€‚æ‰€ä»¥ç¤ºä¾‹ä¸­æœ€ç»ˆçš„è·¯å¾„ä¸º<code>dist/build.js/jquery.js</code>ã€‚</li>
<li>å¦‚æœ<code>gulp.dest</code>æœ€ç»ˆå¾—åˆ°å†™å…¥è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„è·¯å¾„ã€‚</li>
</ol>
<p>å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾è¦åŒ¹é…çš„æ–‡ä»¶è·¯å¾„ä¸ºsrc/public/js/jquery.js</span></span><br><span class="line">gulp.src(<span class="string">'src/public/**/*.js'</span>)      <span class="comment">// base: src/public/    matched: js/jquery.js</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist/build'</span>)); <span class="comment">// result: dist/build/js/jquery.js</span></span><br><span class="line"></span><br><span class="line">gulp.src(<span class="string">'src/public/**/*.js'</span>, &#123;base: <span class="string">'src'</span>&#125;) <span class="comment">// base: src/    matched: public/js/jquery.js</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist'</span>))               <span class="comment">// dist/public/js/jquery.js</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼Œ</p>
<ul>
<li>å½“æ‰‹åŠ¨é…ç½®<code>options.base</code>æ—¶ï¼Œå°†å¯¼è‡´matchedä¹Ÿä¼šè·Ÿç€å‘ç”Ÿå˜åŒ–ã€‚</li>
<li>æ‰‹åŠ¨è®¾ç½®çš„<code>options.base</code>å¿…é¡»æ˜¯åŸå§‹baseå­—ç¬¦ä¸²çš„æŸä¸ªå¼€å§‹å­—ä¸²ã€‚æ¯”å¦‚ç¤ºä¾‹ä¸­åŸå§‹baseä¸²æ˜¯<code>src/public</code>ï¼Œé‚£ä¹ˆæ‰‹åŠ¨è®¾ç½®çš„baseåªèƒ½æ˜¯<code>src</code>æˆ–è€…<code>src/public</code>ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–çš„ï¼Œå¦åˆ™å°†ä¸èƒ½æ­£ç¡®å†™å…¥æ–‡ä»¶ã€‚</li>
</ul>
<h3 id="å†™å…¥å‚æ•°"><a href="#å†™å…¥å‚æ•°" class="headerlink" title="å†™å…¥å‚æ•°"></a>å†™å…¥å‚æ•°</h3><table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">é»˜è®¤å€¼</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>options.cwd</code></td>
<td style="text-align:left"><code>process.cwd()</code></td>
<td style="text-align:left">è¾“å‡ºç›®å½•çš„cwdå‚æ•°ï¼Œåªåœ¨æ‰€ç»™çš„è¾“å‡ºç›®å½•æ˜¯ç›¸å¯¹è·¯å¾„æ—¶å€™æœ‰æ•ˆã€‚</td>
</tr>
<tr>
<td style="text-align:left"><code>options.mode</code></td>
<td style="text-align:left"><strong>0777</strong></td>
<td style="text-align:left">å…«è¿›åˆ¶æƒé™å­—ç¬¦ï¼Œç”¨ä»¥å®šä¹‰æ‰€æœ‰åœ¨è¾“å‡ºç›®å½•ä¸­æ‰€åˆ›å»ºçš„ç›®å½•çš„æƒé™ã€‚</td>
</tr>
</tbody>
</table>
<p>å†™å…¥å‚æ•°ä¸€èˆ¬éƒ½ä¸ç”¨è‡ªå®šä¹‰ã€‚</p>
<h2 id="gulp-watch"><a href="#gulp-watch" class="headerlink" title="gulp.watch"></a><code>gulp.watch</code></h2><p><code>gulp.watch</code>ç”¨æ¥ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–åï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æ‰§è¡Œç›¸åº”çš„ä»»åŠ¡ã€‚å…¶å†…éƒ¨æ˜¯åŸºäº<a href="https://github.com/shama/gaze" target="_blank" rel="external">gaze</a>å®ç°çš„ã€‚</p>
<p>å…¶ç”¨æ³•å¦‚ä¸‹ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.watch(glob[, opts], tasks)</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.watch(glob[, opts], fn)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°</th>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">æ˜¯å¦å¯é€‰</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>glob</code></td>
<td style="text-align:left"><strong>String</strong>, <strong>Array</strong></td>
<td style="text-align:left"><strong>å¿…é¡»</strong></td>
<td style="text-align:left">åŒ<code>gulp.src</code></td>
</tr>
<tr>
<td style="text-align:left"><code>opts</code></td>
<td style="text-align:left"><strong>Object</strong></td>
<td style="text-align:left">å¯é€‰</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left"><code>tasks</code></td>
<td style="text-align:left"><strong>Array</strong></td>
<td style="text-align:left"><strong>å¿…é¡»</strong></td>
<td style="text-align:left">ä¸ºæ–‡ä»¶å˜åŒ–åè¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¸ºä¸€ä¸ªæ•°ç»„</td>
</tr>
<tr>
<td style="text-align:left"><code>fn</code></td>
<td style="text-align:left"><strong>Function</strong></td>
<td style="text-align:left"><strong>å¿…é¡»</strong></td>
<td style="text-align:left">æ–‡ä»¶å˜åŒ–åéœ€è¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œå‡½æ•°å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡</td>
</tr>
</tbody>
</table>
<p>æ¥çœ‹ä¸ªä¾‹å­ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'uglify'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//do something</span></span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(<span class="string">'reload'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//do something</span></span><br><span class="line">&#125;);</span><br><span class="line">gulp.watch(<span class="string">'js/**/*.js'</span>, [<span class="string">'uglify'</span>,<span class="string">'reload'</span>]);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>fn</code>çš„ä¾‹å­ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gulp.watch(<span class="string">'js/**/*.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(ev.type); <span class="comment">//å˜åŒ–ç±»å‹ addedä¸ºæ–°å¢,deletedä¸ºåˆ é™¤ï¼Œchangedä¸ºæ”¹å˜ </span></span><br><span class="line">    <span class="built_in">console</span>.log(ev.path); <span class="comment">//å˜åŒ–çš„æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="å‚è€ƒåˆ—è¡¨"><a href="#å‚è€ƒåˆ—è¡¨" class="headerlink" title="å‚è€ƒåˆ—è¡¨"></a>å‚è€ƒåˆ—è¡¨</h1><ul>
<li><a href="http://gulpjs.com/" target="_blank" rel="external">gulp</a></li>
<li><a href="http://www.gulpjs.com.cn/" target="_blank" rel="external">gulpä¸­æ–‡ç½‘</a></li>
<li><a href="http://www.cnblogs.com/2050/p/4198792.html" target="_blank" rel="external">å‰ç«¯æ„å»ºå·¥å…·gulpjsçš„ä½¿ç”¨ä»‹ç»åŠæŠ€å·§</a></li>
</ul>


            <div class="post-info">
    <p class="eof">- EOF -</p>
    <p class="copyright">All rights reserved <a href="http://gejiawen.github.io/about">@gejiawen</a>.</p>
    <p class="link">æœ¬æ–‡é“¾æ¥ï¼š<a href="http://blog.gejiawen.com/2015/12/05/gulp-reminder-1-api/">http://blog.gejiawen.com/2015/12/05/gulp-reminder-1-api/</a></p>

    <div class="share">
    åˆ†äº«æœ¬é¡µï¼š
    
        <div class="bdsharebuttonbox"><a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">å¾®ä¿¡</a><a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´">QQç©ºé—´</a><a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš">æ–°æµªå¾®åš</a><a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a><a href="#" class="bds_more" data-cmd="more"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

    
    
</div>

</div>


            
    <section class="comment">
    <div class="ds-thread" data-thread-key="gulp-reminder-1-api" data-title="gulpå¤‡å¿˜å½•ï¼ˆä¸€ï¼‰ï¼šAPIæŒ‡å—" data-url="http://blog.gejiawen.com/2015/12/05/gulp-reminder-1-api/" data-author-key="gejiawen"></div>
</section>


<script type="text/javascript">
var duoshuoQuery = {short_name:"gejiawen-blog"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>





        </div>
    </div>
</article>

    <footer id="footer">
        <div id="bottom-tip">
            è›‹ç³•ä»™äºº â€”â€” <small>æŠ€æœ¯äººéœ€è¦å±æœºæ„Ÿ</small>
        </div>
        <small>è¯¥åšå®¢ç”± <a href="https://hexo.io/" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ï¼Œæ­è½½ <a href="https://github.com/gejiawen/hexadillax2" target="_blank">Hexadillax2</a> ä¸»é¢˜</small><br />
        <!--<small>å¦‚æœä½ è®¿é—®githubé€Ÿåº¦è¿‡æ…¢ï¼Œå¯ç§»æ­¥æœ¬ç«™çš„å¤‡ä»½ç«™ç‚¹<a href="http://gejiawen.gitcafe.io">gejiawen.gitcafe.io</a></small><br />-->
        <small>&copy; 2017 <a href="http://blog.gejiawen.com" target="_blank">gejiawen</a>&nbsp;<a href="http://www.miitbeian.gov.cn/" target="_blank">çš–ICPå¤‡16008778å·</a></small>
    </footer>
    
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e4dd778a6204eb51e4f25460e37481ad";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=58628762" charset="UTF-8"></script>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-51347904-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>


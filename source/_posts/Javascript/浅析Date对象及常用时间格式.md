title: 浅析Date对象及常用时间格式
date: 2015-03-11 18:29:24
categories: [Javascript]
tags: [javascript]
---

`Date`（时间）对象是JavaScript在浏览器环境的一个内置对象，用于处理客户端时间逻辑。本篇文章将会简单的介绍Date对象，重点是介绍Web开发中涉及到时间时常用的几种时间字符串格式。

# `Date`对象

关于`Date`对象详细的文档说明，请参阅[Mozilla开发者中心](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)。

这里稍微提两点，`Data`对象中，除了3个比较特殊方法（这里我们可以将其理解成静态方法）之外，其他的方法都是实例方法。

- `Date.UTC()`，接受一个合法的时间字符串或者多个日期参数，返回此时间距1970-1-1 00:00:00的毫秒数。
- `Date.now()`，返回方法调用时刻距1970-1-1 00:00:00的毫秒数。
- `Date.parse()`，这个方法比较灵活，可以接受多种参数，返回参数所代表的时间点距1970-1-1 00:00:00的毫秒数。

此外，`Date`对象的构造方法接受参数的形式非常灵活，在实际使用要活学活用。

好了，其他的内容就可以直接参考MDN文档了。

# 各种时间格式

上述提到`Date`对象的构造函数或者部分实例方法可以接受一个合法的时间格式字符串作为参数。这里我们先来对常见的几种时间格式做一下科普。

## GMT时间

先来段网上的关于GMT时间的段子，

> 十七世纪，格林威治皇家天文台为了海上霸权的扩张计划而进行天体观测。1675年旧皇家观测所(Old Royal Observatory)正式成立，到了1884年决定以通过格林威治的子午线作为划分地球东西两半球的经度零度。观测所门口墙上有一个标志24小时的时钟，显示当下的时间，对全球而言，这里所设定的时间是世界时间参考点，全球都以格林威治的时间作为标准来设定时间，这就是我们耳熟能详的「格林威治标准时间」(Greenwich Mean Time，简称G.M.T.)的由来，标示在手表上，则代表此表具有两地时间功能，也就是同时可以显示原居地和另一个国度的时间。

再来给出wiki上[定义](http://zh.wikipedia.org/wiki/%E6%A0%BC%E6%9E%97%E5%B0%BC%E6%B2%BB%E5%B9%B3%E6%97%B6)，其实GMT时间是全球24时区划分的标准。北京时间就是处于东八区上，一般的北京时间会被表示成`localtimestring` + `GMT+0800`，如下，

```bash
Wed Mar 11 2015 18:54:49 GMT+0800 (中国标准时间)
```

从wiki中，我们可以知道，GMT是根据地球自转及格林威治子午线来调时的。但是由于种种原因，这种计时是存在误差的。现在的标准时间，是由原子钟报时的协调世界时（UTC）。

## UTC时间

首先给出其[定义](http://zh.wikipedia.org/wiki/%E5%8D%8F%E8%B0%83%E4%B8%96%E7%95%8C%E6%97%B6)。

UTC时间，又称为**世界标准时间**或者**世界协调时间**，简称**UTC**（Coordinated Universal Time），是最主要的世界时间标准，其以原子时秒长为基础，在时刻上尽量接近于格林威治时间（其实UTC时间比GMT时间要精确）。

## ISO时间

我们这里说的ISO时间其实指的是国际标准化组织ISO制定的**ISO 8601**标准，是日期和时间的表示方法，全称为《数据存储和交换形式·信息交换·日期和时间的表示方法》，目前是第三版ISO8601:2004以替代第一版ISO8601:1988与第二版ISO8601:2000。

关于**ISO 8601**更多的内容请参见[wiki](http://zh.wikipedia.org/wiki/ISO_8601)。


## 其他的时间格式

除了上述提到的在web开发中最常用的三种时间格式之外，还有日常生活中常见的[夏时制（DST）](http://zh.wikipedia.org/wiki/%E5%A4%8F%E6%97%B6%E5%88%B6)、[北京时间（CST）](http://zh.wikipedia.org/wiki/%E5%8C%97%E4%BA%AC%E6%97%B6%E9%97%B4)、[中部标准时间](http://zh.wikipedia.org/wiki/UTC-6)等等。不过因为这些时间格式在web开发（或者说展现）中并不常用，这里我们就一笔带过，不再多作介绍。

# 各时间格式之间转化

我们在浏览器书写如下代码即可得带一个时间对象，

```javascript
var d = new Date();
console.log(d);
```

这里我们没有给Date的构造函数传递任何参数，得到的将是封装当前时间的一个时间对象。

上述代码在Chrome Console中执行的结果如下，

```bash
Wed Mar 11 2015 19:14:51 GMT+0800 (中国标准时间)
```

这其实是一种山寨的GMT时间格式字符串，中国标准时间其实就是北京时间。

我们继续在console中执行下面的代码，

```javascript
d.toGMTString();
d.toUTCString();
d.toISOString();
```

结果如下，

```bash
"Wed, 11 Mar 2015 11:14:51 GMT"
"Wed, 11 Mar 2015 11:14:51 GMT"
"2015-03-11T11:14:51.182Z"
```

从结果可以看出`toGMTString()`和`toUTCString()`得到的结果是一致。前面我们也说过，UTC时间其实就是更加精确的GMT时间。

至于`toISOString()`得到的时间字符串是有一般性规律的，其格式一般如下，

```bash
yyyy-mm-ddThh:mm:ss.000Z
```

使用字母`T`和`Z`链接日期和时间，且`Z`前面还会有三位数，这三位数是时间对象对应的毫秒数。

由上面我们可以看出，在进行web开发时，如果涉及到日期时间的相关展示时，我们应该选择哪一种时间格式作为数据传输的格式呢？答案无疑是**ISO时间格式**，因为它具有一定的规律，且都是有数字组成的基本格式。

# 参考列表

- [wikipedia](http://zh.wikipedia.org/wiki/)

End. All rights reserved `@gejiawen`.

postid: "css-layout-model"
title: CSS布局模型
date: 2015-03-04 17:10:48
categories: [CSS]
tags: [CSS拾遗系列, css科普]
---

CSS布局模型，又称为CCS盒布局模型。其实布局模型是建立在盒模型基础之上的，但是又不同于我们常说的CSS布局样式或CSS布局模板。如果说布局模型是本质，那么CSS布局模板就是外在的表现形式。

CSS包含3中基本的布局模型，分别为：Flow（流动布局模型）、Float（浮动布局模型）、Layer（层级布局模型）。

# Flow布局

流动布局模型其实就是**默认的**网页布局模式。也就是说网页在默认状态下的HTML网页元素都是根据流动模型来分布网页内容的。

流动布局将会有两个比较典型的特征，

第一，**块级元素**都会在所处的最近父级容器元素内**自上而下**按顺序垂直顺延分布，因为在默认状态下，块级元素的宽度都是100%（即父级元素宽度的100%）。实际上，块状元素都会以行的形式占据位置。如下代码所示，

```html
<html>
    <body>
        <h1>我是h1</h1>
        <div>我是div</div>
    </body>
</html>
```

如上述代码所示，在没有外在样式的影响下，`h1`和`div`的宽度都将是100%（为页面的默认宽度）。

第二，在流动模型下，**内联元素**都会在所处的最近父级容器元素内**从左到右**水平分布显示。

```html
<html>
    <body>
        <a>我是a</a>
        <span>我是span</span>
    </body>
</html>
```

内联元素不会像块级元素那样独自的占据一行。

# Float布局

任何元素在默认的情况下都是处于整个文档流中的，不会浮动的。当我们给某一个元素设置浮动时，即可让该元素摆脱当前文档流，成为浮动元素。

如下代码，给`div`元素设置浮动，让两个div并排显示。

```html
div{
    width:200px;
    height:200px;
    border:2px red solid;
    float:left;
}
<div id="div1">我是div1</div>
<div id="div2">我是div2</div>
```

这里有一点需要注意，如果我给div设置的浮动是`float: right`，那么`div1`将会贴在右侧，而`div2`将会贴在`div1`的左侧。

# Layer布局

什么是层级布局模型？

层级布局模型就像是图像软件PhotoShop中非常流行的图层编辑功能一样，每个图层能够精确定位操作，但在网页设计领域，由于网页大小的活动性，层级布局模型没能受到热捧。但是在网页上局部使用层级布局还是有其方便之处的。

应用层级布局，往往需要定位属性的配合。CSS中有3种定位类型，

- 绝对定位(`position: absolute`)
- 相对定位(`position: relative`)
- 固定定位(`position: fixed`)

## 绝对定位

如果想为元素设置层级布局模型中的绝对定位，需要设置`position:absolute`(表示绝对定位)，这条语句的作用将元素从文档流中拖出来，然后使用`left`、`right`、`top`、`bottom`属性相对于其**最接近的一个具有定位属性的父包含块**进行绝对定位。如果不存在这样的包含块，则相对于body元素，即相对于浏览器窗口。

## 相对定位

如果想为元素设置层级布局模型中的相对定位，需要设置`position:relative`（表示相对定位），它通过`left`、`right`、`top`、`bottom`属性确定元素在正常文档流中的偏移位置。相对定位完成的过程是首先按`static`(`float`)方式生成一个元素(并且元素像层一样浮动了起来)，然后相对于以前的位置移动，移动的方向和幅度由`left`、`right`、`top`、`bottom`属性确定，偏移前的位置保留不动。

相对定位与绝对定位最大的区别在于，前者没有脱离当前文档流而后者已经脱离了当前文档流。脱离当前文档流的意思是，该元素的前后元素在计算位置和偏移时将不再计算该元素的大小和位置。

## 固定定位

`position: fixed`，表示固定定位，与`absolute`定位类型类似，但它的相对移动的坐标是**视图**（屏幕内的网页窗口）本身。由于视图本身是固定的，它不会随浏览器窗口的滚动条滚动而变化，除非你在屏幕中移动浏览器窗口的屏幕位置，或改变浏览器窗口的显示大小，因此固定定位的元素会始终位于浏览器窗口内视图的某个位置，不会受文档流动影响，这与`background-attachment:fixed;`（用于定位背景图片的位置）属性功能相同。

固定定位在某一种场景下很有用，当我们需要在页面的某一位置固定的展示某一元素，且不受页面滚动条的影响。比如，常见的“返回顶部”之类的按钮。

# 混合使用

现代网页布局中，经常将相对定位和绝对定位混合使用，以达到更加灵活的目的。如下代码，

```html
<style>
#box1{
    width:200px;
    height:200px;
    position:relative; /* 前辈元素的定位必须设置为relative */
}

#box2{
    position:absolute; /* 相对于最近的一个定位设置为relative的前辈元素的绝对定位 */
    top:20px;
    left:30px;
}
</style>

<div id="box1">
    <div id="box2">相对参照元素进行定位</div>
</div>
```

即，`box2`相对于`box1`是绝对定位的。当改变`box1`的位置时，`box1`内部的子元素是不会发生变化的，因为他们都是相对`box1`绝对定位的。

